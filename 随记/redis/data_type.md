# Redis基础

## Redis数据类型

- String（字符串）
- List（列表）
- Hash（字典）
- Set（集合）
- Sorted Set（有序集合）

## 应用场景

1、字符串

>string是redis最基本的类型，你可以理解成与Memcached一模一样的类型，一个key对应一个value。
string类型是二进制安全的。
意思是redis的string可以包含任何数据。
比如jpg图片或者序列化的对象 。
string类型是Redis最基本的数据类型，一个键最大能存储512MB。
查找的复杂度都是O(1)
---

2、列表

>List 说白了就是链表（redis 使用双端链表实现的 List），相信学过数据结构知识的人都应该能理解其结构。
使用 List 结构，我们可以轻松地实现最新消息排行等功能（比如新浪微博的 TimeLine ）。
List 的另一个应用就是消息队列，可以利用 List 的 *PUSH 操作，将任务存在 List 中，然后工作线程再用 POP 操作将任务取出进行执行。
Redis 还提供了操作 List 中某一段元素的 API，你可以直接查询，删除 List 中某一段的元素。
---

使用场景：微博 TimeLine、消息队列

3、字典(哈希)

>Hash是一个健值对集合，
是一个String类型的key与value的映射表，特别适合用于存储对象。
查找的复杂度都是O(1)
---

使用场景：存储、读取、修改用户属性

4、集合

>集合是通过哈希表实现的，
所以添加，删除，查找的复杂度都是O(1)
---

使用场景：

- 1.共同好友、二度好友 

- 2.利用唯一性，可以统计访问网站的所有独立 IP 

- 3.好友推荐的时候，根据 tag 求交集，大于某个 threshold 就可以推荐

5、有序集合

使用场景：

- 1.带有权重的元素，比如一个游戏的用户得分排行榜

- 2.比较复杂的数据结构，一般用到的场景不算太多

## Redis其他功能

- 订阅-发布系统

- 事务Transactions

## 避免O(N)命令长耗时的方法：

- 不要把List当做列表使用，仅当做队列来使用

- 通过机制严格控制Hash、Set、Sorted Set的大小

- 可能的话，将排序、并集、交集等操作放在客户端执行

- 绝对禁止使用KEYS命令

- 避免一次性遍历集合类型的所有成员，而应使用SCAN类的命令进行分批的，游标式的遍历


